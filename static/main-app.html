<link rel="import" href="nav-head.html">
<link rel="import" href="device-view.html">
<link rel="import" href="nav-foot.html">
<dom-module id="main-app">
<style>
  #page {
    display: inline-flex;
    flex-direction: column;
    position: absolute;
    width: 100%;
    min-height: 100%;
    background-color: red;
    /*margin-bottom: 4.68em;*/
  }
  #content {
    flex-grow: 1;
  }
</style>
<template>
  <div id="page">
    <nav-head active-tab="{{activeTab}}" logged-in="{{loggedIn}}"></nav-head>
    <div id="content">
      <template is="dom-if" if="{{__computeActiveTab(activeTab, 0)}}">
        <home-page></home-page>
      </template>
      <template is="dom-if" if="{{__computeActiveTab(activeTab, 2)}}">
        <device-view></device-view>
      </template>
    </div>
    <nav-foot></nav-foot>
  </div>
</template>
<script>
  Polymer({
    is: "main-app",
    properties: {
      devices: {
        type: Object,
        value: function() { return {}; }
      },

      activeTab: {
        type: Number,
        value: 2
      },

      loggedIn: {
        type: Boolean,
        value: true
      }
    },

    __computeActiveTab: function(active, tab, loginRequired) {
      console.log(active, tab);
      return active == tab && (!loginRequired || loginRequired && this.loggedIn);
    }
  });
</script>
</dom-module>