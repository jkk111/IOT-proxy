<link rel="stylesheet" type="text/css" href="bower_components/paper-input/paper-input.html">
<dom-module id="settings-view">
  <iron-ajax auto url="/settings" method="GET" on-response="settingsReceived"></iron-ajax>
  <iron-ajax url="/settings" method="POST" body="{{settings}}" on-response="settingsUpdated"></iron-ajax>
  <template>
    <div id="settings">
      <template is="dom-repeat" items="{{computeSettingsItems(settings)}}">
        <div class="settings-item">
          <div class="settings-name">{{item.name}}:</div>
          <paper-input value="{{item.value}}"></paper-input>
        </div>
      </template>
    </div>
  </template>
  <script>
    Polymer({
      is: "settings-view",
      properties: {
        settings: {
          type: Object,
          value: {}
        }
      },

      settingsReceived: function(e, detail) {
        this.set("settings", detail.response);
      },

      computeSettingsItems: function(settings) {
        var arr = [];
        for(var setting in settings) {
          arr.push({ name: setting, value: settings[setting].value });
        }
      }
    })
  </script>
</dom-module>